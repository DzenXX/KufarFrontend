{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios\";\nexport const createMessage = createAsyncThunk('chat/createMessage', async params => {\n  console.log(\"fetch\");\n  console.log(pa);\n  const {\n    data\n  } = await axios.post('/messages/create', params);\n  return data;\n});\nexport const fetchMessages = createAsyncThunk('chat/fetchMessage', async params => {\n  console.log(\"fetch\");\n  const {\n    data\n  } = await axios.get('/messages/get');\n  console.log(data);\n  return data;\n});\nconst initialState = {\n  messages: [],\n  status: 'loading'\n};\nconst chatSlice = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {},\n  extraReducers: {\n    [fetchMessages.pending]: state => {\n      state.status = 'loading';\n      state.messages = null;\n    },\n    [fetchMessages.fulfilled]: (state, action) => {\n      state.status = 'loaded';\n      console.log(action.payload);\n      state.messages = action.payload;\n      console.log(state.messages);\n    },\n    [fetchMessages.rejected]: state => {\n      state.status = 'error';\n      state.messages = null;\n    }\n  }\n});\nexport const selectMessages = state => state.chat.messages;\nexport const chatReducer = chatSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","createMessage","params","console","log","pa","data","post","fetchMessages","get","initialState","messages","status","chatSlice","name","reducers","extraReducers","pending","state","fulfilled","action","payload","rejected","selectMessages","chat","chatReducer","reducer"],"sources":["/Users/tim/Documents/programming/kufar/KufarFrontend/KufarFrontend/src/redux/slices/chat.jsx"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios\";\n\nexport const createMessage = createAsyncThunk('chat/createMessage', async (params) => {\n   console.log(\"fetch\")\n   console.log(pa)\n   const { data } = await axios.post('/messages/create', params)\n   return data;\n})\nexport const fetchMessages = createAsyncThunk('chat/fetchMessage', async (params) => {\n   console.log(\"fetch\")\n   const { data } = await axios.get('/messages/get')\n   console.log(data)\n   return data;\n})\n\nconst initialState = {\n   messages: [],\n   status: 'loading'\n}\n\n\nconst chatSlice = createSlice({\n   name: 'chat',\n   initialState,\n   reducers: { \n   },\n   extraReducers: {\n      [fetchMessages.pending]: (state) => {\n         state.status = 'loading';\n         state.messages = null;\n      },\n      [fetchMessages.fulfilled]: (state, action) => {\n         state.status = 'loaded';\n         console.log(action.payload)\n         state.messages = action.payload;\n         console.log(state.messages)\n      },\n      [fetchMessages.rejected]: (state) => {\n         state.status = 'error';\n         state.messages = null;\n      },\n   }\n});\n\nexport const selectMessages = (state) => state.chat.messages\n\nexport const chatReducer = chatSlice.reducer\n\n\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,aAAa;AAE/B,OAAO,MAAMC,aAAa,GAAGF,gBAAgB,CAAC,oBAAoB,EAAE,MAAOG,MAAM,IAAK;EACnFC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACpBD,OAAO,CAACC,GAAG,CAACC,EAAE,CAAC;EACf,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMN,KAAK,CAACO,IAAI,CAAC,kBAAkB,EAAEL,MAAM,CAAC;EAC7D,OAAOI,IAAI;AACd,CAAC,CAAC;AACF,OAAO,MAAME,aAAa,GAAGT,gBAAgB,CAAC,mBAAmB,EAAE,MAAOG,MAAM,IAAK;EAClFC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACpB,MAAM;IAAEE;EAAK,CAAC,GAAG,MAAMN,KAAK,CAACS,GAAG,CAAC,eAAe,CAAC;EACjDN,OAAO,CAACC,GAAG,CAACE,IAAI,CAAC;EACjB,OAAOA,IAAI;AACd,CAAC,CAAC;AAEF,MAAMI,YAAY,GAAG;EAClBC,QAAQ,EAAE,EAAE;EACZC,MAAM,EAAE;AACX,CAAC;AAGD,MAAMC,SAAS,GAAGf,WAAW,CAAC;EAC3BgB,IAAI,EAAE,MAAM;EACZJ,YAAY;EACZK,QAAQ,EAAE,CACV,CAAC;EACDC,aAAa,EAAE;IACZ,CAACR,aAAa,CAACS,OAAO,GAAIC,KAAK,IAAK;MACjCA,KAAK,CAACN,MAAM,GAAG,SAAS;MACxBM,KAAK,CAACP,QAAQ,GAAG,IAAI;IACxB,CAAC;IACD,CAACH,aAAa,CAACW,SAAS,GAAG,CAACD,KAAK,EAAEE,MAAM,KAAK;MAC3CF,KAAK,CAACN,MAAM,GAAG,QAAQ;MACvBT,OAAO,CAACC,GAAG,CAACgB,MAAM,CAACC,OAAO,CAAC;MAC3BH,KAAK,CAACP,QAAQ,GAAGS,MAAM,CAACC,OAAO;MAC/BlB,OAAO,CAACC,GAAG,CAACc,KAAK,CAACP,QAAQ,CAAC;IAC9B,CAAC;IACD,CAACH,aAAa,CAACc,QAAQ,GAAIJ,KAAK,IAAK;MAClCA,KAAK,CAACN,MAAM,GAAG,OAAO;MACtBM,KAAK,CAACP,QAAQ,GAAG,IAAI;IACxB;EACH;AACH,CAAC,CAAC;AAEF,OAAO,MAAMY,cAAc,GAAIL,KAAK,IAAKA,KAAK,CAACM,IAAI,CAACb,QAAQ;AAE5D,OAAO,MAAMc,WAAW,GAAGZ,SAAS,CAACa,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}