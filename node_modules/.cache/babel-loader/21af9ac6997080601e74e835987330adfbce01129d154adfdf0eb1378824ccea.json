{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios\";\nexport const createMessage = createAsyncThunk('mess/createMessage', async params => {\n  console.log(\"fetch\");\n  const {\n    data\n  } = await axios.post('/messages/create', params);\n  return data;\n});\nexport const fetchMessages = createAsyncThunk('messages/get', async params => {\n  console.log(\"fetch\");\n  const {\n    data\n  } = await axios.post('/auth/login', params);\n  return data;\n});\nconst initialState = {\n  messages: {},\n  status: 'loading'\n};\nconst chatSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: state => {\n      state.data = null;\n    }\n  },\n  extraReducers: {\n    [createMessage.pending]: state => {\n      state.status = 'loading';\n      state.data = null;\n    },\n    [createMessage.fulfilled]: (state, action) => {\n      state.status = 'loaded';\n      state.data = action.payload;\n    },\n    [createMessage.rejected]: state => {\n      state.status = 'error';\n      state.data = null;\n    }\n  }\n});\n\n// export const selectIsAuth = (state) => Boolean(state.auth.data)\n// export const selectName = (state) => state.auth.data?.fullName\n\nexport const chatReducer = chatSlice.reducer;\n\n// export const { logout } = authSlice.actions","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","createMessage","params","console","log","data","post","fetchMessages","initialState","messages","status","chatSlice","name","reducers","logout","state","extraReducers","pending","fulfilled","action","payload","rejected","chatReducer","reducer"],"sources":["/Users/tim/Documents/programming/newProject/newpr/src/redux/slices/chat.jsx"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios\";\n\nexport const createMessage = createAsyncThunk('mess/createMessage', async (params) => {\n   console.log(\"fetch\")\n   const { data } = await axios.post('/messages/create', params)\n   return data;\n})\nexport const fetchMessages = createAsyncThunk('messages/get', async (params) => {\n   console.log(\"fetch\")\n   const { data } = await axios.post('/auth/login', params)\n   return data;\n})\n\nconst initialState = {\n   messages: {},\n   status: 'loading'\n}\n\n\nconst chatSlice = createSlice({\n   name: 'auth',\n   initialState,\n   reducers: { \n      logout: (state) => {\n         state.data = null\n      },\n   },\n   extraReducers: {\n      [createMessage.pending]: (state) => {\n         state.status = 'loading';\n         state.data = null;\n      },\n      [createMessage.fulfilled]: (state, action) => {\n         state.status = 'loaded';\n         state.data = action.payload;\n      },\n      [createMessage.rejected]: (state) => {\n         state.status = 'error';\n         state.data = null;\n      },\n   }\n});\n\n// export const selectIsAuth = (state) => Boolean(state.auth.data)\n// export const selectName = (state) => state.auth.data?.fullName\n\nexport const chatReducer = chatSlice.reducer\n\n// export const { logout } = authSlice.actions \n\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,aAAa;AAE/B,OAAO,MAAMC,aAAa,GAAGF,gBAAgB,CAAC,oBAAoB,EAAE,MAAOG,MAAM,IAAK;EACnFC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACpB,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,kBAAkB,EAAEJ,MAAM,CAAC;EAC7D,OAAOG,IAAI;AACd,CAAC,CAAC;AACF,OAAO,MAAME,aAAa,GAAGR,gBAAgB,CAAC,cAAc,EAAE,MAAOG,MAAM,IAAK;EAC7EC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;EACpB,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAML,KAAK,CAACM,IAAI,CAAC,aAAa,EAAEJ,MAAM,CAAC;EACxD,OAAOG,IAAI;AACd,CAAC,CAAC;AAEF,MAAMG,YAAY,GAAG;EAClBC,QAAQ,EAAE,CAAC,CAAC;EACZC,MAAM,EAAE;AACX,CAAC;AAGD,MAAMC,SAAS,GAAGb,WAAW,CAAC;EAC3Bc,IAAI,EAAE,MAAM;EACZJ,YAAY;EACZK,QAAQ,EAAE;IACPC,MAAM,EAAGC,KAAK,IAAK;MAChBA,KAAK,CAACV,IAAI,GAAG,IAAI;IACpB;EACH,CAAC;EACDW,aAAa,EAAE;IACZ,CAACf,aAAa,CAACgB,OAAO,GAAIF,KAAK,IAAK;MACjCA,KAAK,CAACL,MAAM,GAAG,SAAS;MACxBK,KAAK,CAACV,IAAI,GAAG,IAAI;IACpB,CAAC;IACD,CAACJ,aAAa,CAACiB,SAAS,GAAG,CAACH,KAAK,EAAEI,MAAM,KAAK;MAC3CJ,KAAK,CAACL,MAAM,GAAG,QAAQ;MACvBK,KAAK,CAACV,IAAI,GAAGc,MAAM,CAACC,OAAO;IAC9B,CAAC;IACD,CAACnB,aAAa,CAACoB,QAAQ,GAAIN,KAAK,IAAK;MAClCA,KAAK,CAACL,MAAM,GAAG,OAAO;MACtBK,KAAK,CAACV,IAAI,GAAG,IAAI;IACpB;EACH;AACH,CAAC,CAAC;;AAEF;AACA;;AAEA,OAAO,MAAMiB,WAAW,GAAGX,SAAS,CAACY,OAAO;;AAE5C"},"metadata":{},"sourceType":"module","externalDependencies":[]}